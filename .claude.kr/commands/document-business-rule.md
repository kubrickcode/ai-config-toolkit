---
allowed-tools: Write, Read, Glob, Grep
description: 도메인 지식과 요구사항을 기반으로 비즈니스 규칙 문서화 생성
---

# 비즈니스 규칙 문서화 생성기

비즈니스 로직과 도메인 지식에 대한 구조화된 문서를 생성합니다.

## 사용자 요청

```text
$ARGUMENTS
```

진행하기 전에 사용자 입력을 **반드시** 고려해야 합니다 (비어있지 않은 경우).

---

## 이 명령의 기능

1. 사용자의 자연어 요청을 해석하여 문서화 요구사항 파악
2. 관련 구현을 위해 기존 코드베이스 조사
3. 구조화된 비즈니스 규칙 문서 생성
4. 프로젝트 구조에 맞는 적절한 위치에 저장

## 입력 해석

사용자의 자연어 입력을 분석하여 지능적으로 추출:

- **도메인/주제**: 문서화가 필요한 비즈니스 영역
- **컨텍스트**: 배경 정보, 관련 시스템, 이해관계자
- **범위**: 집중할 특정 측면, 규칙, 프로세스
- **출력 선호도**: 언급된 경우 파일 위치, 형식 선호

**해석 가이드라인:**

- 어떤 자연어 설명이든 수용 - 엄격한 형식 불필요
- 명시되지 않은 경우 컨텍스트에서 도메인 이름 추론
- 진정으로 모호한 경우에만 명확화 질문
- 입력이 비어있으면 무엇을 문서화할지 설명해달라고 요청

## 문서 구조

### 기본 원칙

- **간결하고 명확하게**: 장황한 설명 금지
- **실행 가능한 예시 포함**: 코드 참조 포함
- **"왜"에 집중**: 규칙 뒤의 근거 설명

### 생성되는 문서 템플릿

````markdown
# [도메인 이름]

## 개요

이 도메인이 다루는 비즈니스 영역 (1-2문장)

## 핵심 개념

### [개념 이름]

**정의:** 명확한 정의

**예시:**

```typescript
// 실제 사용 예시 코드
```
````

**코드 위치:** `src/domain/concept.ts`

## 비즈니스 규칙

### [규칙 이름]

- **내용:** 규칙 설명
- **이유:** 왜 이 규칙이 필요한지
- **예외 (있는 경우):** 예외 시나리오
- **코드 위치:** `src/domain/rules.ts:45-67`

## 프로세스 흐름 (복잡한 경우만)

### [프로세스 이름]

1. 단계 1 → `src/service/step1.ts`
2. 단계 2 → `src/service/step2.ts`
3. 단계 3 → `src/service/step3.ts`

## 주의사항 (있는 경우)

- 흔히 실수하는 부분
- 변경 시 주의할 점

## 용어집 (필요한 경우)

- **용어 1:** 정의
- **용어 2:** 정의

```

## 출력 위치

적절한 위치 결정:

```

project-root/
├── docs/
│ └── domain/ # 도메인 문서의 기본 위치
│ └── {domain-name}.md
└── src/
└── {module}/
└── README.md # 대안: 모듈별 문서

````

**결정 로직:**
- `docs/domain/`이 존재하면 → `docs/domain/{domain-name}.md` 사용
- 특정 모듈 문서화 시 → 해당 모듈의 `README.md` 사용
- 불명확하면 사용자에게 질문

## 실행 단계

1. **입력 파싱**: `$ARGUMENTS`에서 도메인 정보 추출
2. **코드베이스 조사**:
   - 관련 파일 검색: `Glob src/**/*{domain}*`
   - 기존 문서 확인: `Glob docs/**/*.md`
   - 관련 코드 패턴 확인: `Grep {도메인 키워드}`
3. **문서 생성**: 템플릿에 따라 문서 작성
4. **파일 저장**: 결정된 위치에 저장
5. **보고**: 생성된 파일 경로와 요약 표시

## 사용 예시

```bash
# 간단한 도메인 이름
/document-business-rule user-authentication

# 자연어 설명
/document-business-rule 주문 처리 로직 문서화해줘. 결제 검증이랑 재고 확인 규칙 포함해서

# 대화체 스타일
/document-business-rule 우리 billing 모듈에 있는 구독 관련 비즈니스 규칙들 정리해줘

# 상세한 컨텍스트
/document-business-rule 환불 정책 규칙 문서화 필요해. 7일 이내 환불 가능하고, 디지털 상품은 부분 환불 허용됨
```

## 중요 사항

- 이 명령은 사용자 입력과 코드베이스 분석을 기반으로 문서를 생성함
- 커밋 전 생성된 내용의 정확성을 검토할 것
- 비즈니스 규칙 변경 시 문서도 업데이트할 것
- 문서를 관련 코드 근처에 유지할 것
- 추적성을 위해 코드 참조(`file:line`) 사용
````
