---
description: 이슈를 분석하고 해결 방안이 담긴 analysis.md 생성
---

# 이슈 분석 명령

## 사용자 입력

```text
$ARGUMENTS
```

사용자 입력이 비어있지 않다면 **반드시** 고려해야 합니다.

---

## 개요

1. **사용자 입력 파싱**:
   - $ARGUMENTS에서 작업 설명 추출
   - 작업명 생성 (2-4 단어, 영문, 하이픈 구분)

2. **Skills 참조**:
   - `.claude/skills/` 메타데이터 확인
   - 관련 skill 있으면 상세 참조

3. **문제 정의**:
   - 현재 상황, 해결할 문제, 목표 파악

4. **해결방안 조사**:
   - 2-4개 방안 조사
   - 각 방안의 장단점 분석
   - Skills 원칙 기반 평가

5. **최종 선택**:
   - 가장 적합한 방안 선택
   - 반려 이유 명확화

6. **역질문 생성**:
   - 불명확한 부분 **최대 3개만** 선별
   - 나머지는 합리적 기본값 + 가정

7. **문서 작성**:
   - `docs/work/WORK-{작업명}/analysis.md` 생성
   - 아래 템플릿 구조 사용

---

## 핵심 규칙

### 📝 문서 작성 언어

**중요**: 생성하는 모든 문서(`analysis.md`)는 **반드시 한국어로 작성**해야 합니다.

### 🎯 균형 잡힌 분석 원칙

1. **문제 정의**: 추상적 설명보다 구체적 시나리오 포함
2. **해결방안**: 사용자 관점과 기술적 타당성 모두 고려
3. **구현 방법**: 핵심 변경사항 간결히, 신규 의존성 명시
4. **완료 조건**: 기능 검증과 기술 구현 분리

### ✅ 해야 할 것

- 결론 우선 (요약)
- **구체적 시나리오 포함** (문제 정의) - 이슈에 따라 1-4개
- **사용자 영향 설명** (해결방안) - 어떻게 사용하는가
- **기술적 타당성 평가** (해결방안) - 왜 적합한가
- Skills 기반 해결방안 평가
- 간결한 불릿 포인트
- **확인 필요 사항은 최대 3개**
- 합리적 기본값 사용

### ❌ 하지 말아야 할 것

- 장황한 설명
- 중복된 내용
- **추상적 문제 정의만** (구체적 예시 없음)
- **과도한 기술 세부사항** (구현 레벨까지 들어가는 것)
- **사용자 관점 누락** (기술만 이야기)
- Skills 원칙과 충돌하는 방안
- 무한 질문
- **당연한 것을 나열** (예: React state, JSON schema)

### 📋 확인 우선순위

**우선순위**: 범위 > 보안/프라이버시 > 사용자 경험 > 기술 세부사항

### 🎯 합리적 추측 원칙

1. **합리적 추측하기**: 문맥, 업계 표준, 일반적 패턴을 활용해 공백 메우기
2. **가정 문서화**: 합리적 기본값을 가정 섹션에 기록
3. **확인 사항 제한**: 최대 3개의 [확인 필요] 마커

---

## 문서 템플릿

생성할 파일: `docs/work/WORK-{작업명}/analysis.md`

```markdown
# [작업명] - 분석 결과

## 🎯 결론 (요약)

**선택한 방안**: [방안 이름]
**핵심 이유**: [왜 이 방안을 선택했는가 1-2문장]

---

## 📋 문제 정의

**구체적 시나리오** (필요한 만큼):

- [케이스 1: 현재 어떤 상황에서 어떤 문제가 발생하는가]
- [케이스 2: 또 다른 구체적 상황]

**현재 문제**: [무엇이 불편하거나 불가능한가]
**목표**: [이 작업으로 달성하려는 것]

---

## 📦 범위

**포함**:

- [작업 범위 1]
- [작업 범위 2]

**제외**:

- [명시적으로 제외할 것]

---

## 🔍 해결방안 조사

### 방안 1: [이름]

**접근**:

- [어떻게 해결할 것인가 - 사용자 영향과 기술적 방법 포함]
- [필요 시: 사용자가 어떻게 경험하는가]
- [필요 시: 기술적으로 어떻게 구현하는가]

**장점**:

- [왜 좋은가 - 사용자/기술 관점]

**단점**:

- [왜 문제가 될 수 있는가]

### 방안 2: [이름]

**접근**:

- [해결 방법]

**장점**:

- [...]

**단점**:

- [...]

---

## ✅ 최종 선택

**채택**: 방안 N
**선택 이유**:

- [왜 이 방안이 가장 적합한가]
- [주요 이점 및 트레이드오프]

**반려된 방안**:

- 방안 X: [반려 이유]

---

## 🛠️ 구현 방법

**핵심 변경사항**:

- [변경 항목 1]
- [변경 항목 2]

**신규 의존성**: [없음 / 이름]

---

## ⚙️ 핵심 고려사항

- **하위 호환성**: [기존 동작 유지 방법]
- **UI 위치**: [어디에 배치할지]
- **특수 케이스**: [고려할 엣지 케이스]

---

## 🎯 완료 조건

**기능 검증**:

- [ ] [시나리오 1 검증 - 실제 사용 케이스 테스트]
- [ ] [시나리오 2 검증]
- [ ] [기존 기능 회귀 테스트]

**기술 구현**:

- [ ] [핵심 변경사항 구현]
- [ ] [필요한 설정/스키마 업데이트]
- [ ] [단위 테스트 작성]

---

## ❓ 확인 필요

**현재 가정**:

- [가정 1]: [기본값]
- [가정 2]: [기본값]

**필요 시 확인**:

- [추가 확인이 필요한 사항 - 최대 3개]
```

---

## 📚 좋은/나쁜 예시

### 문제 정의 섹션

**❌ 나쁜 예 (추상적만)**:

```markdown
**현재 상황**: 기능 A 사용 시 문제 발생
**해결할 문제**: X가 불가능함
**목표**: Y를 가능하게 함
```

**✅ 좋은 예 (구체적 + 추상적)**:

```markdown
**구체적 시나리오**:

- [케이스 1: 특정 상황에서 어떤 문제 발생]
- [케이스 2: 또 다른 실제 상황]

**현재 문제**: [전반적으로 무엇이 불가능한가]
**목표**: [이 작업으로 가능해지는 것]
```

---

### 해결방안 조사 섹션

**❌ 나쁜 예 (기술만 또는 사용자만)**:

```markdown
### 방안 1: API X 사용

**접근**: `function(param, flag: false)` 호출
**장점**: 네이티브 지원
**단점**: 테스트 복잡
```

또는

```markdown
### 방안 1: 옵션 추가

**사용자 경험**: 체크박스 클릭 → 동작 변경
**장점**: 간단함
**단점**: 제한적
```

**✅ 좋은 예 (균형 잡힌 설명)**:

```markdown
### 방안 1: [방안 이름]

**접근**:

- [어떻게 해결하는가 - 사용자가 어떻게 경험하고, 기술적으로 어떻게 동작하는가]
- 필요 시: 구체적 사용 흐름 (1→2→3)
- 필요 시: 핵심 기술적 방법

**장점**:

- [사용자/기술 관점에서 왜 좋은가]

**단점**:

- [어떤 한계나 트레이드오프가 있는가]
```

---

### 완료 조건 섹션

**❌ 나쁜 예 (기술 구현만)**:

```markdown
- [ ] 타입 A에 필드 X 추가
- [ ] 모듈 B에서 로직 구현
- [ ] 설정 파일 업데이트
```

**✅ 좋은 예 (기능 검증 + 기술 구현)**:

```markdown
**기능 검증**:

- [ ] [시나리오 1 검증 - 실제 사용 케이스]
- [ ] [옵션 변경 시 동작 확인]
- [ ] [기존 기능 회귀 테스트]

**기술 구현**:

- [ ] [핵심 타입/인터페이스 변경]
- [ ] [로직 구현]
- [ ] [설정/스키마 업데이트]
- [ ] [UI 구현 (필요 시)]
- [ ] [단위 테스트]
```

---

## 실행

이제 위 지침에 따라 작업을 시작하세요.
