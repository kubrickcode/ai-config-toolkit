---
description: 커밋 단위 작업이 포함된 구현 계획 생성
---

# 이슈 계획 명령

---

## 개요

1. **전제조건 확인**:
   - `docs/work/WORK-{name}/analysis.md` 존재 확인
   - 없으면 오류: "Run /analyze-issue first"

2. **분석 문서 로드**:
   - analysis.md에서 선택된 방안, 완료 조건 추출

3. **Skills 참조**:
   - `.claude/skills/` 메타데이터 확인
   - 코딩 원칙 파악 (예: TypeScript - type 사용, interface 금지)

4. **영향 범위 파악**:
   - 대략적인 클래스/모듈 나열 (구체적 파일명 X)

5. **커밋 분해** (수직 슬라이싱):
   - 각 커밋이 독립 배포 가능하도록
   - **수평 슬라이싱 금지**: 타입/로직/테스트/UI를 별도 커밋으로 분리 금지
   - **수직 슬라이싱**: 각 커밋이 타입+로직+테스트를 포함하여 완전한 기능 제공
   - 순서: 설정 → 핵심 → 통합 → 마무리
   - 각 커밋에 검증 방법 및 "독립 배포 가능" 여부 명시

6. **원칙 위반 검토**:
   - Skills 원칙 위반 필요 시 복잡도 추적 테이블 작성

7. **문서 작성**:
   - `docs/work/WORK-{name}/plan.md` 생성

---

## 핵심 규칙

### 📝 문서 작성 언어

**중요**: 생성하는 모든 문서(`plan.md`)는 **반드시 한국어로 작성**해야 합니다.

### ✅ 해야 할 것

- 체크리스트 중심
- analysis.md 참조만 (반복 X)
- **수직 슬라이싱**: 각 커밋 독립 배포 가능
- Skills 원칙 반영
- 영향 범위는 대략적으로

### ❌ 하지 말아야 할 것

- 문제 재정의 (analysis.md에 있음)
- 구체적 파일 목록 나열
- 장황한 설명

### 🎯 수직 슬라이싱 원칙 (중요)

**각 커밋이 만족해야 할 조건**:

1. **빌드 성공**: 컴파일 에러 없음
2. **기존 기능 보존**: 기존 테스트 통과
3. **독립 테스트 가능**: 해당 커밋만으로 테스트 가능
4. **의미 있는 가치**: 사용자/개발자에게 실질적 가치 제공

**❌ 수평 슬라이싱 금지**:

- 타입만 → 로직만 → 테스트만 → UI만 분리 (X)
- 이런 분리는 각 커밋이 기능적으로 불완전함

**✅ 수직 슬라이싱 예시**:

- 커밋 1: 타입 + 로직 + 테스트 + 스키마 (수동 설정으로 사용 가능)
- 커밋 2: UI 통합 (완전한 사용자 경험)

### 📊 단계 구조

- **1단계**: 설정
- **2단계**: 기반
- **3단계 이상**: 사용자 스토리 (우리는 핵심 기능)
- **최종 단계**: 마무리

→ 우리는 커밋 순서로 적용

---

## 문서 템플릿

생성할 파일: `docs/work/WORK-{작업명}/plan.md`

```markdown
# [작업명] - 실행 계획

> **분석 결과**: `analysis.md` 참조
> **선택 방안**: [방안 N]

## 📁 영향 범위 (대략적)

**주요 영역**: [상태바 관리자, 설정 관리자 등]

---

## 📝 커밋 계획

### ✅ 커밋 1: [제목]

**목표**: [1문장 - 이 커밋이 제공하는 완전한 가치 설명]

**작업 체크리스트**:

- [ ] [구체적 작업 1]
- [ ] [구체적 작업 2]
- [ ] 테스트: [테스트 내용]
- [ ] 빌드 확인: [빌드 명령어]

**검증 방법**:

1. [구체적 검증 방법]
2. [사용자 시나리오]

**독립 배포 가능**: ✅ / ⚠️ [이유]

---

### ⬜ 커밋 2: [제목]

**목표**: [1문장 - 이 커밋이 제공하는 완전한 가치 설명]

**작업 체크리스트**:

- [ ] [구체적 작업 1]
- [ ] [구체적 작업 2]
- [ ] 테스트: [테스트 내용]
- [ ] 빌드 확인: [빌드 명령어]

**검증 방법**:

1. [구체적 검증 방법]
2. [사용자 시나리오]

**독립 배포 가능**: ✅ / ⚠️ [이유]

---

## ⚠️ 원칙 위반 정당화 (필요 시만)

| 원칙 위반 | 왜 필요한가             | 단순한 대안 거부 이유   |
| --------- | ----------------------- | ----------------------- |
| any 사용  | VS Code API 타입 불완전 | @types 수정 비용 > 이득 |

---

## 📊 진행 상황

- [ ] 커밋 1
- [ ] 커밋 2
```

---

## 실행

이제 위 지침에 따라 작업을 시작하세요.
