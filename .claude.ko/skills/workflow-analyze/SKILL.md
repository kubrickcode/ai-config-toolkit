---
name: workflow-analyze
description: 이슈를 분석하고 해결 방안이 담긴 analysis.md 생성
disable-model-invocation: true
---

# 이슈 분석 명령

## 사용자 입력

```text
$ARGUMENTS
```

사용자 입력이 비어있지 않다면 **반드시** 고려해야 합니다.

---

## 개요

1. **사용자 입력 파싱**:
   - $ARGUMENTS에서 작업 설명 추출
   - 작업명 생성 (2-4 단어, 영문, 하이픈 구분)

2. **문제 정의**:
   - 현재 상황, 해결할 문제, 목표 파악

3. **해결방안 조사**:
   - 2-4개 방안 조사
   - 각 방안의 장단점 분석
   - 코딩 원칙 기반 평가

4. **최종 선택**:
   - 가장 적합한 방안 선택
   - 반려 이유 명확화

5. **역질문 생성**:
   - 불명확한 부분 **최대 3개만** 선별
   - 나머지는 합리적 기본값 + 가정

6. **문서 작성** (이중 언어):
   - `docs/work/{작업명}/analysis.ko.md` 생성 (한글 - 사용자 참고용)
   - `docs/work/{작업명}/analysis.md` 생성 (영어 - 에이전트 실행용)
   - 두 버전 모두 아래 템플릿 구조 사용

---

## 핵심 규칙

### 📝 문서 작성 언어

**중요**: 모든 문서를 **두 가지 버전**으로 생성해야 합니다:

1. **한글 버전** (`analysis.ko.md`): 사용자 참고용 - 한국어로 작성
2. **영어 버전** (`analysis.md`): 에이전트 실행용 - 영어로 작성

**두 버전 모두 동일한 구조와 정보를 포함**해야 하며, 언어만 다릅니다.

### 🎯 균형 잡힌 분석 원칙

1. **문제 정의**: 추상적 설명보다 구체적 시나리오 포함
2. **해결방안**: 사용자 관점과 기술적 타당성 모두 고려
3. **구현 방법**: 핵심 변경사항 간결히, 신규 의존성 명시
4. **완료 조건**: 기능 검증과 기술 구현 분리

### 🎭 객관성 원칙 (매우 중요)

**핵심: 솔직하게. 있는 건 숨기지 말고, 없는 건 만들지 말 것.**

1. **분석 먼저, 결론은 나중에**
   - 모든 방안 분석 완료 후 선택

2. **사실대로 작성**
   - A가 장점 5개, B가 1개면 그대로 (강제 균형 금지)
   - 부작용 있으면 기술, 없으면 없다고 (숨기지도, 만들지도 말 것)
   - 방안 반려 시 포기하는 이점도 인정

3. **중립적 언어**
   - 금지: "단순히", "명백히", "당연히", "그냥"
   - 사용: "~할 수 있다", "~일 가능성"

### ✅ 해야 할 것

- 결론 우선 (요약)
- **구체적 시나리오 포함** (문제 정의) - 이슈에 따라 1-4개
- **사용자 영향 설명** (해결방안) - 어떻게 사용하는가
- **기술적 타당성 평가** (해결방안) - 왜 적합한가
- 코딩 원칙 기반 해결방안 평가
- 간결한 불릿 포인트
- **확인 필요 사항은 최대 3개**
- 합리적 기본값 사용

### ❌ 하지 말아야 할 것

- 장황한 설명
- 중복된 내용
- **추상적 문제 정의만** (구체적 예시 없음)
- **과도한 기술 세부사항** (구현 레벨까지 들어가는 것)
- **사용자 관점 누락** (기술만 이야기)
- 코딩 원칙과 충돌하는 방안
- 무한 질문
- **당연한 것을 나열** (예: React state, JSON schema)

---

## 문서 템플릿

생성할 파일:

- `docs/work/{작업명}/analysis.ko.md` (한글 버전)
- `docs/work/{작업명}/analysis.md` (영어 버전)

```markdown
# [작업명] - 분석 결과

## 🎯 결론 (요약)

**선택한 방안**: [방안 이름]
**핵심 이유**: [왜 이 방안을 선택했는가 1-2문장]

---

## 📋 문제 정의

**구체적 시나리오** (필요한 만큼):

- [케이스 1: 현재 어떤 상황에서 어떤 문제가 발생하는가]
- [케이스 2: 또 다른 구체적 상황]

**현재 문제**: [무엇이 불편하거나 불가능한가]
**목표**: [이 작업으로 달성하려는 것]

---

## 📦 범위

**포함**:

- [작업 범위 1]
- [작업 범위 2]

**제외**:

- [명시적으로 제외할 것]

---

## 🔍 해결방안 조사

### 방안 1: [이름]

**접근**:

- [어떻게 해결할 것인가 - 사용자 영향과 기술적 방법 포함]

**장점**:

- [왜 좋은가 - 사용자/기술 관점]

**단점**:

- [왜 문제가 될 수 있는가]

**부작용/위험** (있다면):

- [성공적으로 구현해도 발생할 수 있는 부정적 결과]

---

## ✅ 최종 선택

**채택**: 방안 N

**감수하는 트레이드오프** (있다면):

- [다른 방안에서 얻을 수 있었던 이점이지만 포기]

**선택 이유**:

- [위의 트레이드오프에도 불구하고 왜 이 방안이 가장 적합한가]

**반려된 방안** (잃는 것도 함께 기술):

- 방안 X: [반려 이유] — 포기하는 이점: [잃는 것]

---

## 🎯 완료 조건

**기능 검증**:

- [ ] [시나리오 1 검증 - 실제 사용 케이스 테스트]

**기술 구현**:

- [ ] [핵심 변경사항 구현]
- [ ] [단위 테스트 작성]

---

## ❓ 확인 필요

**현재 가정**:

- [가정 1]: [기본값]

**필요 시 확인**:

- [추가 확인이 필요한 사항 - 최대 3개]
```

---

## 실행

이제 위 지침에 따라 작업을 시작하세요.
