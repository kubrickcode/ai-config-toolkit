---
name: workflow-execute
description: plan.md의 커밋 N 실행 및 요약 생성
disable-model-invocation: true
---

# 이슈 실행 명령

## 사용자 입력

```text
$ARGUMENTS
```

예상 형식:

- `/workflow-execute 작업명 N` (작업명과 커밋 번호)
- `/workflow-execute N` (커밋 번호만 - 최근 plan.md 검색)

예시:

- `/workflow-execute REFACTORING 1`
- `/workflow-execute API-REDESIGN 2`
- `/workflow-execute 1` (최근 plan.md 사용)

---

## 개요

1. **사용자 입력 파싱**:
   - $ARGUMENTS에 두 부분이 있는 경우 (예: "REFACTORING 1"):
     - 첫 부분에서 작업명 추출 (예: "REFACTORING")
     - 두 번째 부분에서 커밋 번호 추출 (예: 1)
     - 대상: `docs/work/{작업명}/plan.md`
   - $ARGUMENTS에 숫자만 있는 경우 (예: "1"):
     - 커밋 번호 추출
     - `docs/work/*/`에서 가장 최근 수정된 `plan.md` 찾기
     - 없으면 오류: "plan.md를 찾을 수 없습니다. 사용법: /workflow-execute 작업명 N"

2. **전제조건 확인**:
   - 대상 `plan.md` 존재 확인
   - 없으면 오류: "{작업명}에 대해 먼저 /workflow-plan을 실행하세요"

3. **컨텍스트 로딩**:
   - **필수**: plan.md의 해당 커밋 체크리스트 읽기
   - **선택**: 심도있는 작업이면 analysis.md도 참조
   - 기존 summary-commit-N.md 확인 (수정 사이클 대응)

4. **작업 실행**:
   - plan.md의 체크리스트 항목 순차 실행
   - 파일 생성/수정
   - 테스트 작성

5. **검증**:
   - 테스트 실행
   - 동작 확인

6. **요약 생성/덮어쓰기**:
   - `docs/work/{작업명}/summary-commit-N.md` 생성
   - 기존 파일 있으면 덮어쓰기 (최종 상태만 유지)

7. **완료 보고**:
   - 변경된 파일 목록
   - 검증 결과
   - 남은 커밋 개수

---

## 핵심 규칙

### 📝 문서 작성 언어

**중요**: 생성하는 모든 문서(`summary-commit-N.md`)는 **반드시 한국어로 작성**해야 합니다.

### ✅ 해야 할 것

- plan.md 체크리스트 충실히 따름
- 코딩 원칙 **절대 준수**
- **테스트 요구사항 준수** (plan.md에서 확인):
  - `TDD`: 실패하는 테스트 작성 → 구현 → 통과 확인
  - `TEST-AFTER`: 구현 → 테스트 작성 → 확인
  - `NO-TEST`: 구현만
- **원자적 커밋**: 테스트와 구현을 같은 커밋에 (절대 분리 금지)
- 요약 자동 생성

### ❌ 하지 말아야 할 것

- 체크리스트 무시
- 코딩 원칙 위반 (정당화 없이)
- 검증 생략
- 테스트 없이 구현만 커밋 (TDD/TEST-AFTER인 경우)
- "테스트 추가" 별도 커밋 생성

### 🎯 구현 규칙

- **설정 우선**: 프로젝트 구조, 의존성, 설정 초기화
- **핵심 개발**: 모델, 서비스, CLI 명령 구현
- **TDD 워크플로우** (plan에 `TDD` 지정 시):
  1. 실패하는 테스트 작성 (RED)
  2. 통과할 최소 코드 구현 (GREEN)
  3. 필요시 리팩토링

### 📊 진행 추적

- 완료된 각 작업 후 진행 상황 보고
- 병렬이 아닌 작업이 실패하면 실행 중단
- 디버깅을 위한 명확한 오류 메시지와 컨텍스트 제공

### 🧪 프로토타입 코드 활용 (있는 경우)

**중요**: `__prototype__/` 디렉토리에 검증 코드가 있다면:

- ✅ **참고용으로만 사용**: 구현 방향과 핵심 로직 파악
- ✅ **새로 작성**: 코드 청결성, 구조, 원칙 준수하여 재구현
- ❌ **절대 복사 금지**: 프로토타입은 검증만을 위해 작성됨 (청결성/구조 무시)

**프로토타입의 목적**: 기술적 실현 가능성 증명 및 핵심 아이디어 확인용

---

## 문서 템플릿

생성할 파일: `docs/work/{작업명}/summary-commit-N.md`

```markdown
# 커밋 N: [제목]

> **작성 시각**: [YYYY-MM-DD HH:mm]
> **연관 계획**: `plan.md` > 커밋 N

---

## 🎯 달성 목표

[1문장]

---

## 📝 변경 파일

**추가**:

- `src/new/file.ts`: [설명]

**수정**:

- `src/existing.ts:45`: [변경 내용]

**삭제** (있을 경우만):

- `src/old/file.ts`: [삭제 이유]

## 💡 핵심 변경 내용

- [변경 1]
- [변경 2]

---

## ✅ 검증 결과

**테스트 방법**:

- [테스트 내용]

**테스트 결과**:

- [결과]

## 🧪 엣지 케이스 (확인한 경우만)

- [케이스 1]: [예상 동작]
- [케이스 2]: [예상 동작]

---

## 🔑 기술 결정 (있을 경우만)

- **[기술/패턴]**: [선택 이유 1줄]

---

## ⚠️ 주의사항 (있을 경우만)

- [제약사항]
- [환경 변수 추가]: `KEY=value`
- [의존성 설치]: `npm install package`

## 📌 후속 작업 (있을 경우만)

- TODO: [구체적 내용]
```

---

## 컨텍스트 로딩

### 필수

- 전체 작업 목록 및 실행 계획을 위해 `plan.md` 읽기

### 존재하는 경우

- 심도있는 컨텍스트를 위해 `analysis.md` 읽기 (복잡한 작업에 권장)
- 기존 `summary-commit-N.md` 읽어서 수정 작업인지 파악
- `__prototype__/` 디렉토리 확인 (검증 단계에서 생성된 참고용 코드)

---

## 실행

이제 위 지침에 따라 작업을 시작하세요.
