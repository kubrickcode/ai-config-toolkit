# 아키텍처 결정 기록 (ADR)

## 기존 ADR 확인

아키텍처 또는 설계 결정을 내리기 전에 `docs/decisions/`의 기존 ADR을 스캔한다. **파일명과 프론트매터**(상태, 제목)만 읽어 관련 여부를 판단하고, 관련 ADR을 찾은 경우에만 본문을 읽는다. 관련 ADR이 있으면:

- 변경할 강력한 이유가 없는 한 따른다
- 변경 시: 기존 ADR을 명시적으로 대체하는 새 ADR 생성
- 과거 ADR과 조용히 모순되는 결정 금지

## ADR 작성 제안 시점

**PRICE** 기준으로 평가한다. **하나라도** 해당하면 ADR 작성을 제안:

| 기준                       | 신호                                          | 예시                            |
| -------------------------- | --------------------------------------------- | ------------------------------- |
| **P**olicy (정책)          | 팀 컨벤션, 프로세스 결정, 코딩 표준           | "커서 기반 페이지네이션 사용"   |
| **R**eversibility (가역성) | 되돌리기 어렵거나 비용이 큰 결정              | DB 스키마, 언어 선택, 인증 전략 |
| **I**mpact (영향)          | 여러 모듈, 팀, 또는 많은 파일에 영향          | API 설계 패턴, 상태 관리 방식   |
| **C**onstraint (제약)      | 외부 비즈니스 규칙, 규제, SLA, 3rd party 제한 | "결제는 100ms 이내 완료"        |
| **E**xception (예외)       | 관례를 거스르는 반직관적 선택                 | "여기선 의도적으로 ORM 미사용"  |

감지 시: 해당하는 PRICE 기준을 간략히 명시한 후, `/adr` 스킬 사용을 제안한다.

## ADR 제안하지 않는 경우

- 일상적 구현 선택 (변수명, 루프 vs map)
- 이미 기존 ADR에 기록된 결정
- 사소하고 쉽게 되돌릴 수 있는 변경
- 기존 프로젝트 컨벤션에 맞는 표준 패턴
